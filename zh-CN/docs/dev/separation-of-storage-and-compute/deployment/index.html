<!doctype html>
<html lang="zh-Hans-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-separation-of-storage-and-compute/deployment" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
<meta name="generator" content="Docusaurus v2.4.3">
<link rel="alternate" type="application/rss+xml" href="/zh-CN/blog/rss.xml" title="Apache Doris RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/blog/atom.xml" title="Apache Doris Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DT7W9E9722"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DT7W9E9722",{anonymize_ip:!0})</script>



<link rel="preconnect" href="https://analytics.apache.org/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://analytics.apache.org/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","43"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script>



<link rel="icon" href="/zh-CN/images/logo-only.png">
<link rel="manifest" href="/zh-CN/manifest.json">
<meta name="theme-color" content="#FFFFFF">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/zh-CN/img/docusaurus.png">
<link rel="mask-icon" href="/zh-CN/img/docusaurus.svg" color="rgb(37, 194, 160)">
<meta name="msapplication-TileImage" content="/zh-CN/img/docusaurus.png">
<meta name="msapplication-TileColor" content="#000">



<link rel="stylesheet" href="https://cdn-font.hyperos.mi.com/font/css?family=MiSans:100,200,300,400,450,500,600,650,700,900:Chinese_Simplify,Latin&display=swap">
<link rel="stylesheet" href="https://cdn-font.hyperos.mi.com/font/css?family=MiSans_Latin:100,200,300,400,450,500,600,650,700,900:Latin&display=swap">
<script src="/js/custom-script.js"></script><title data-rh="true">存算分离 Doris 部署 - Apache Doris</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://doris.apache.org/zh-CN/docs/dev/separation-of-storage-and-compute/deployment"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="存算分离 Doris 部署 - Apache Doris"><meta data-rh="true" name="description" content="&lt;!--"><meta data-rh="true" property="og:description" content="&lt;!--"><link data-rh="true" rel="icon" href="/zh-CN/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://doris.apache.org/zh-CN/docs/dev/separation-of-storage-and-compute/deployment"><link data-rh="true" rel="alternate" href="https://doris.apache.org/docs/dev/separation-of-storage-and-compute/deployment" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://doris.apache.org/zh-CN/docs/dev/separation-of-storage-and-compute/deployment" hreflang="zh-Hans-CN"><link data-rh="true" rel="alternate" href="https://doris.apache.org/docs/dev/separation-of-storage-and-compute/deployment" hreflang="x-default"><link rel="stylesheet" href="https://cdnd.selectdb.com/zh-CN/assets/css/styles.6c1d6100.css">
<link rel="preload" href="https://cdnd.selectdb.com/zh-CN/assets/js/runtime~main.af108d74.js" as="script">
<link rel="preload" href="https://cdnd.selectdb.com/zh-CN/assets/js/main.24a3da88.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="announcementBar_s0pr" style="background-color:#3C2FD4;color:#FFFFFF" role="banner"><div class="announcementBarPlaceholder_qxfj"></div><div class="announcementBarContent_dpRF"><a href="https://github.com/apache/doris" target="_blank" style="display: flex; width: 100%; align-items: center; justify-content: center; margin-left: 4px; text-decoration: none; color: white">Do you ❤️ Doris? Give us a 🌟 on GitHub 
                        <img style="width: 1.2rem; height: 1.2rem; margin-left: 0.4rem;" src="/images/github-white-icon.svg">
                    </a></div><button type="button" class="clean-btn close announcementBarClose_iXyO" aria-label="关闭"><svg viewBox="0 0 15 15" width="14" height="14" style="color:white"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner" style="padding:"><div class="navbar__items"><div class="navbar-left"><div class="navbar-logo-wrapper flex items-center"><a class="navbar__brand" href="/zh-CN/"><div class="navbar__logo"><img src="https://cdnd.selectdb.com/images/logo.svg" alt="Apache Doris" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://cdnd.selectdb.com/images/logo.svg" alt="Apache Doris" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><a class="navbar__item navbar__link" style="text-align:center" href="/zh-CN/docs/get-starting/quick-start">Docs</a><a class="navbar__item navbar__link" style="text-align:center" href="/zh-CN/blog">Blog</a><a class="navbar__item navbar__link" style="text-align:center" href="/zh-CN/users">Users</a><a href="https://github.com/apache/doris/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" style="text-align:center">Discussions</a><a class="navbar__item navbar__link" style="text-align:center" href="/zh-CN/ecosystem/cluster-management">Ecosystem</a><a class="navbar__item navbar__link" style="text-align:center" href="/zh-CN/community/join-community">Community</a></div></div><div class="navbar__items navbar__items--right"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><div class="docs-search searchBox_H2mL"><div class="navbar__search searchBarContainer_PzyC"><input placeholder="搜索" aria-label="Search" class="navbar__search-input navbarSearchInput_tb6T"><div class="loadingRing__K5d searchBarLoadingRing_e2f0"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_m7ml"><kbd class="searchHint_zuPL">ctrl</kbd><kbd class="searchHint_zuPL">K</kbd></div></div></div><div class="custom-navbar-item navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg class="icon-language" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M7.75756 14.3L10.5816 6.91667H11.8759L14.7 14.3H13.4057L12.7501 12.4167H9.74113L9.06873 14.3H7.75756ZM10.1109 11.35H12.3467L11.254 8.3H11.2036L10.1109 11.35ZM2.84908 12.45L1.97498 11.5833L5.11841 8.48333C4.72618 8.05 4.38439 7.60267 4.09302 7.14133C3.80165 6.68044 3.54389 6.19444 3.31976 5.68333H4.61412C4.80463 6.06111 5.00635 6.39711 5.21927 6.69133C5.43219 6.986 5.68434 7.29444 5.97571 7.61667C6.43519 7.12778 6.81621 6.62511 7.11879 6.10867C7.42137 5.59178 7.67352 5.03889 7.87523 4.45H1V3.23333H5.33694V2H6.58087V3.23333H10.9178V4.45H9.11916C8.89503 5.18333 8.59805 5.89155 8.22824 6.57467C7.85842 7.25822 7.39895 7.90555 6.84983 8.51667L8.3459 10.0167L7.87523 11.2833L5.95891 9.38333L2.84908 12.45Z" fill="#4C576C"></path></svg></a><ul class="dropdown__menu"><li><a href="/docs/dev/separation-of-storage-and-compute/deployment" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-align:center">English</a></li><li><a href="/zh-CN/docs/dev/separation-of-storage-and-compute/deployment" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-align:center">中文</a></li></ul></div><div class="custom-navbar-item navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/zh-CN/docs/dev/get-starting/what-is-apache-doris"><span class="text-sm">Versions: <!-- -->dev</span></a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" style="text-align:center" href="/zh-CN/docs/dev/separation-of-storage-and-compute/deployment">dev</a></li><li><a class="dropdown__link" style="text-align:center" href="/zh-CN/docs/get-starting/what-is-apache-doris">2.1</a></li><li><a class="dropdown__link" style="text-align:center" href="/zh-CN/docs/2.0/get-starting/what-is-apache-doris">2.0</a></li><li><a class="dropdown__link" style="text-align:center" href="/zh-CN/docs/1.2/get-starting/">1.2</a></li></ul></div><a class="navbar__item navbar__link header-right-button-primary navbar-download-mobile" style="text-align:center" href="/zh-CN/download">Download</a><a href="https://github.com/apache/doris" target="_blank" rel="noopener noreferrer" class="github-btn desktop header-right-button-github"></a><a href="https://join.slack.com/t/apachedoriscommunity/shared_invite/zt-2kl08hzc0-SPJe4VWmL_qzrFd2u2XYQA" target="_blank" rel="noopener noreferrer" class="slack-btn desktop header-right-button-slack"></a><a class="header-right-button-primary navbar-download-desktop" href="/zh-CN/download">Download</a></div></div><div class="navbar__bottom"></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="main-wrapper docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar"><nav aria-label="文档侧边栏" class="menu custom-scrollbar menu_Y1UP menuWithAnnouncementBar_fPny"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/dev/get-starting/what-is-apache-doris">快速开始</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/dev/install/source-install/compilation-with-docker">安装部署</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/dev/db-connect/database-connect">数据库连接</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/dev/table-design/data-type">数据表设计</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/dev/data-operate/import/load-manual">数据操作</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/dev/query/query-data/mysql-compatibility">数据查询</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/dev/lakehouse/lakehouse-overview">湖仓一体</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/dev/admin-manual/cluster-management/upgrade">管理指南</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/dev/ecosystem/spark-doris-connector">生态扩展</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/dev/sql-manual/sql-functions/array-functions/array">SQL 手册</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zh-CN/docs/dev/separation-of-storage-and-compute/overview">存算分离</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list menu__list_level_2"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/dev/separation-of-storage-and-compute/overview">存算分离概览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-CN/docs/dev/separation-of-storage-and-compute/deployment">存算分离 Doris 部署</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/dev/separation-of-storage-and-compute/compute-cluster">存算分离计算集群</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/dev/separation-of-storage-and-compute/file-cache">存算分离数据缓存</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/dev/separation-of-storage-and-compute/storage-vault">Storage Vault(存储后端)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/dev/separation-of-storage-and-compute/meta-service-resource-http-api">存算分离资源管理接口 API 参考</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/dev/separation-of-storage-and-compute/install-fdb">安装 FDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/dev/separation-of-storage-and-compute/use-case">存算分离使用场景</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/dev/benchmark/ssb">性能测试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/dev/faq/install-faq">常见问题</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a id="menu__group" class="menu__link menu__link_level_1 menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/dev/releasenotes/release-2.1.3">版本发布</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>此为 <!-- -->Apache Doris<!-- --> <b>dev</b> 版尚未发行的文档。</div><div class="margin-top--md">最新的文档请参阅 <b><a href="/zh-CN/docs/get-starting/what-is-apache-doris">最新版本</a></b> (<!-- -->2.1<!-- -->)。</div></div><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh-CN/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">存算分离</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">存算分离 Doris 部署</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>存算分离 Doris 部署</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="写在前面">写在前面<a href="#写在前面" class="hash-link" aria-label="写在前面的直接链接" title="写在前面的直接链接">​</a></h2><p>开始部署前请先阅读<a href="/zh-CN/docs/dev/separation-of-storage-and-compute/overview">Doris 存算分离架构说明文档</a>.</p><p>存算分离Doris部署总共需要 3 个模块：FE BE MS(程序名为 doris_cloud, 存算分离模式新增模块)</p><p>存算分离Doris依赖两个额外的开源项目, 开始部署前请将这两个依赖提前安装好</p><ol><li>foundationdb (fdb), 安装文档参考<a href="/zh-CN/docs/dev/separation-of-storage-and-compute/install-fdb">FDB 安装文档</a></li><li>openjdk17, 需要安装到所有的节点上, 从这里获取安装 <a href="https://download.java.net/java/GA/jdk17.0.1/2a2082e5a09d4267845be086888add4f/12/GPL/openjdk-17.0.1_linux-x64_bin.tar.gz" target="_blank" rel="noopener noreferrer">https://download.java.net/java/GA/jdk17.0.1/2a2082e5a09d4267845be086888add4f/12/GPL/openjdk-17.0.1_linux-x64_bin.tar.gz</a></li></ol><p>ms 模块程序启动有两个角色，通过启动参数确定它的角色：</p><ol><li>Meta-service 元数据管理</li><li>Recycler 数据回收</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="编译">编译<a href="#编译" class="hash-link" aria-label="编译的直接链接" title="编译的直接链接">​</a></h2><p><code>--cloud</code> 是编译存算分离ms模块的参数</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sh</span><span class="token plain"> build.sh --fe --be --cloud </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>相比存算一体 <code>output</code> 目录下多了一个 <code>ms</code> 目录产出.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">output</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── fe</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── ms</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── bin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── conf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └── lib</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ms 这个产出目录会提供给meta-service 以及 recycler 使用,
需要注意的是虽然 Recycler 和 Meta-service 是同个程序，但是目前需要拷贝两份二进制文件。
Recycler 和 Meta-service 两个目录完全一样，只是启动参数不同。</p><p>使用以下命令拷贝ms得到一个Recycler工作目录<code>re</code>, 然后按需更改ms 以及 re目录下conf
里的端口等配置即可.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">cp</span><span class="token plain"> -r ms re</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本信息">版本信息<a href="#版本信息" class="hash-link" aria-label="版本信息的直接链接" title="版本信息的直接链接">​</a></h2><p>doris_cloud 检查版本有两个方式 一个是 <code>bin/start.sh --version</code></p><p>一个是 <code>lib/doris_cloud --version</code>, (如果其中一个方法报错，使用另外一个即可)</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ lib/doris_cloud --version</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">version:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">doris_cloud-0.0.0-debug</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> code_version:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">commit</span><span class="token operator">=</span><span class="token plain">b9c1d057f07dd874ad32501ff43701247179adcb </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">time</span><span class="token operator">=</span><span class="token number">2024</span><span class="token plain">-03-24 </span><span class="token number">20</span><span class="token plain">:44:50 +0800</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> build_info:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">initiator</span><span class="token operator">=</span><span class="token plain">gavinchou@VM-10-7-centos </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">build_at</span><span class="token operator">=</span><span class="token number">2024</span><span class="token plain">-03-24 </span><span class="token number">20</span><span class="token plain">:44:50 +0800 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">build_on</span><span class="token operator">=</span><span class="token plain">NAME</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;TencentOS Server&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">VERSION</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;3.1 (Final)&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="meta-service-以及-recycler-部署">Meta-service 以及 Recycler 部署<a href="#meta-service-以及-recycler-部署" class="hash-link" aria-label="Meta-service 以及 Recycler 部署的直接链接" title="Meta-service 以及 Recycler 部署的直接链接">​</a></h2><p>Recycler 和 Meta-service 是同个程序的不同进程，通过启动参数来确定运行的 Recycler 或者是 Meta-service.</p><p>这两个进程依赖 FDB, FDB 的部署请参考<a href="/zh-CN/docs/dev/separation-of-storage-and-compute/install-fdb">FDB 安装文档</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="meta-service-配置">meta-service 配置<a href="#meta-service-配置" class="hash-link" aria-label="meta-service 配置的直接链接" title="meta-service 配置的直接链接">​</a></h3><p><code>./conf</code> 目录下有一个全部采用默认参数的配置文件 doris_cloud.conf (只需要一个配置文件)</p><p>一般需要改的是 <code>brpc_listen_port</code> 和 <code>fdb_cluster</code> 这两个参数</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">brpc_listen_port </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">5000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fdb_cluster </span><span class="token operator">=</span><span class="token plain"> xxx:yyy@127.0.0.1:4500</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上述端口<code>brpc_listen_port</code> 5000是meta-service的默认端口
其中 <code>fdb_cluster</code> 的值是 FDB 集群的连接信息，找部署 FDB 的同学获取，一般可以在部署fdb的机器上 /etc/foundationdb/fdb.cluster 文件找到其内容。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">cat</span><span class="token plain"> /etc/foundationdb/fdb.cluster</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">## DO NOT EDIT!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">## This file is auto-generated, it is not to be edited by hand</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cloud_ssb:A83c8Y1S3ZbqHLL4P4HHNTTw0A83CuHj@127.0.0.1:4500</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recycler-配置">Recycler 配置<a href="#recycler-配置" class="hash-link" aria-label="Recycler 配置的直接链接" title="Recycler 配置的直接链接">​</a></h3><p><strong>Recycler 除了端口之外其他默认配置和meta-service均相同, brpc端口和meta-service不相同即可, 一般采用5100.</strong></p><p><code>./conf</code> 目录下有一个全部采用默认参数的配置文件 doris_cloud.conf (只需要一个配置文件)</p><p>一般需要改的是 <code>brpc_listen_port</code> 和 <code>fdb_cluster</code> 这两个参数</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">brpc_listen_port </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">5100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fdb_cluster </span><span class="token operator">=</span><span class="token plain"> xxx:yyy@127.0.0.1:4500</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上述端口<code>brpc_listen_port</code> 5000是meta-service的默认端口
其中 <code>fdb_cluster</code> 的值是 FDB 集群的连接信息，找部署 FDB 的同学获取，一般可以在部署fdb的机器上 /etc/foundationdb/fdb.cluster 文件找到其内容。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">cat</span><span class="token plain"> /etc/foundationdb/fdb.cluster</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">## DO NOT EDIT!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">## This file is auto-generated, it is not to be edited by hand</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cloud_ssb:A83c8Y1S3ZbqHLL4P4HHNTTw0A83CuHj@127.0.0.1:4500</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="模块启停">模块启停<a href="#模块启停" class="hash-link" aria-label="模块启停的直接链接" title="模块启停的直接链接">​</a></h3><p>Meta-Service 和 Recycler 依赖JAVA的运行环境, 最好使用jdk-17的版本.
启动前export JAVA_HOME的环境变量.</p><p>doris_cloud 在部署的 bin 目录下有启停脚本, 调用对应的启停脚本即可完成启动.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="启停-meta_service">启停 meta_service<a href="#启停-meta_service" class="hash-link" aria-label="启停 meta_service的直接链接" title="启停 meta_service的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">JAVA_HOME</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${path_to_jdk_17}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bin/start.sh --meta-service --daemonized</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bin/stop.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="启停-recycler">启停 Recycler<a href="#启停-recycler" class="hash-link" aria-label="启停 Recycler的直接链接" title="启停 Recycler的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">JAVA_HOME</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${path_to_jdk_17}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bin/start.sh --recycler --daemonized</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bin/stop.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="创建存算分离集群">创建存算分离集群<a href="#创建存算分离集群" class="hash-link" aria-label="创建存算分离集群的直接链接" title="创建存算分离集群的直接链接">​</a></h2><p>存算分离架构下，整个数仓的节点构成信息是通过 Meta-service 进行维护的 (注册 + 变更). FE BE 和 Meta-service 交互来进行服务发现和身份验证。</p><p>创建存算分离集群主要是和 Meta-service 交互，通过 HTTP 接口，<a href="/zh-CN/docs/dev/separation-of-storage-and-compute/meta-service-resource-http-api">meta-service 提供了标准的 http 接口进行资源管理操作</a>.</p><p>创建存算分离集群 (以及 Cluster) 的其实就是描述这个存算分离集群里的机器组成，以下步骤只涉创建一个最基础的存算分离集群所需要进行的交互。</p><p>主要分为两步: 1. 注册一个仓库(FE) 2. 注册一个或者多个计集群(BE)</p><p>注意:</p><ol><li><strong>本文后续的示例中127.0.0.1:5000指的是meta-service的地址, 实际操作时替换成真实的meta-serivce 的IP 以及brpc 监听端口</strong></li><li>请勿直接复制粘贴</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建存算分离集群fe">创建存算分离集群FE<a href="#创建存算分离集群fe" class="hash-link" aria-label="创建存算分离集群FE的直接链接" title="创建存算分离集群FE的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="存算分离集群及其存储后端">存算分离集群及其存储后端<a href="#存算分离集群及其存储后端" class="hash-link" aria-label="存算分离集群及其存储后端的直接链接" title="存算分离集群及其存储后端的直接链接">​</a></h4><p>这个步骤主要目的是在meta-service注册一个存算分离模式的Doris数仓(一套meta-service可以支持多个不同的Doris数仓(多套FE-BE)).
主要需要描述一个仓库使用什么样的存储后端(<a href="/zh-CN/docs/dev/separation-of-storage-and-compute/storage-vault">Storage Vault</a>), 可以选择S3 或者 HDFS. </p><p>调用meta-servicde的create_instance接口. 主要参数 </p><ol><li>instance_id: 存算分离模式Doris数仓的id, 每次新建都使用一个新的, 要求历史唯一, 一般使用uuid, 例如6ADDF03D-4C71-4F43-9D84-5FC89B3514F8. <strong>本文档中为了简化使用普通字符串</strong>.</li><li>name: 数仓名字, 按需填写</li><li>user_id: 用户id, 是一个字符串, 按需填写</li><li>vault: HDFS或者S3的存储后端的信息, 比如HDFS的属性, s3 bucket信息等.</li></ol><p>更多信息请参考<a href="/zh-CN/docs/dev/separation-of-storage-and-compute/meta-service-resource-http-api">meta-service API create instance章节</a>.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="创建基于hdfs的存算分离doris">创建基于HDFS的存算分离Doris<a href="#创建基于hdfs的存算分离doris" class="hash-link" aria-label="创建基于HDFS的存算分离Doris的直接链接" title="创建基于HDFS的存算分离Doris的直接链接">​</a></h5><p>创建基于HDFS的存算分离Doris, 需要描述正确所有信息以及保证所有的节点(FE BE MS RE)
都能够有权限访问所声明的HDFS, 例如提前给机器做好kerbros授权配置等, 并做好连通性
检查(可以在对应的每个节点上使用hadoop client进行测试).</p><p>prefix 字段按需填写, 一般以数仓的服务业务来命名.</p><p>示例</p><div class="language-Shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl -s &quot;127.0.0.1:5000/MetaService/http/create_instance?token=greedisgood9999&quot; -d \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;instance_id&quot;: &quot;sample_instance_id&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;name&quot;: &quot;sample_instance_name&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;user_id&quot;: &quot;sample_user_id&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;vault&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;hdfs_info&quot; : {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;build_conf&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;fs_name&quot;: &quot;hdfs://172.21.0.44:4007&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;user&quot;: &quot;hadoop&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;hdfs_kerberos_keytab&quot;: &quot;/etc/emr.keytab&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;hdfs_kerberos_principal&quot;: &quot;hadoop/172.30.0.178@EMR-XXXYYY&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;hdfs_confs&quot; : [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;key&quot;: &quot;hadoop.security.authentication&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;value&quot;: &quot;kerberos&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;prefix&quot;: &quot;sample_prefix&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="创建基于s3的存算分离doris">创建基于S3的存算分离Doris<a href="#创建基于s3的存算分离doris" class="hash-link" aria-label="创建基于S3的存算分离Doris的直接链接" title="创建基于S3的存算分离Doris的直接链接">​</a></h5><p>基于对象存储的所有属性均为必填, 其中</p><ul><li>使用minio等支持S3协议的对象存储时, 需要自行测试连通性以及aksk的正确性.
具体做法可以参考 <a href="https://min.io/docs/minio/linux/integrations/aws-cli-with-minio.html" target="_blank" rel="noopener noreferrer">使用aws cli 验证minio是否工作</a>
这个教程进行检查</li><li>bucket字段的值就是一个bucket的名字, 是不带scheme(例如s3://)的.</li><li>external_endpoint保持和endpoint值相同即可.</li><li>如果不是云厂商提供的对象存储, region 和 provider 的值可以任意填写</li></ul><p>示例(腾讯云的cos)</p><div class="language-Shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl -s &quot;127.0.0.1:5000/MetaService/http/create_instance?token=greedisgood9999&quot; -d \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;instance_id&quot;: &quot;sample_instance_id&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;name&quot;: &quot;sample_instance_name&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;user_id&quot;: &quot;sample_user_id&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;vault&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;obj_info&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;ak&quot;: &quot;ak_xxxxxxxxxxx&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;sk&quot;: &quot;sk_xxxxxxxxxxx&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;bucket&quot;: &quot;sample_bucket_name&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;prefix&quot;: &quot;sample_prefix&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;endpoint&quot;: &quot;cos.ap-beijing.myqcloud.com&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;external_endpoint&quot;: &quot;cos.ap-beijing.myqcloud.com&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;region&quot;: &quot;ap-beijing&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;provider&quot;: &quot;COS&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="查看存储后端">查看存储后端<a href="#查看存储后端" class="hash-link" aria-label="查看存储后端的直接链接" title="查看存储后端的直接链接">​</a></h5><p>执行完后续步骤, 启动FE成功后, 可以在FE输入SQL show storage vault
可以看到built_in_storage_vault, 并且这个vault的属性上述的属性值相同.</p><p>以下为hdfs的一个示例</p><div class="language-Shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql&gt; show storage vault;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------------------+----------------+-------------------------------------------------------------------------------------------------+-----------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| StorageVaultName       | StorageVaultId | Propeties                                                                                       | IsDefault |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------------------+----------------+-------------------------------------------------------------------------------------------------+-----------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| built_in_storage_vault | 1              | build_conf { fs_name: &quot;hdfs://127.0.0.1:8020&quot; } prefix: &quot;sample_prefix_1CF80628-16CF-0A46-5EE2&quot; | false     |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------------------+----------------+-------------------------------------------------------------------------------------------------+-----------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2 rows in set (0.00 sec)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="添加fe">添加FE<a href="#添加fe" class="hash-link" aria-label="添加FE的直接链接" title="添加FE的直接链接">​</a></h4><p>存算分离模式FE的管理方式和BE 是类似的都是分了组, 所以也是通过add_cluster等接口来进行操作.</p><p>一般来说只需要建一个FE即可, 如果需要多加几个FE, </p><p>cloud_unique_id是一个唯一字符串, 格式为 <code>1:&lt;instance_id&gt;:&lt;string&gt;</code>, 根据自己喜好选一个.
ip edit_log_port 按照fe.conf里实际填写.
注意, FE集群的cluster_name cluster_id是固定, 恒定为
&quot;cluster_name&quot;:&quot;RESERVED_CLUSTER_NAME_FOR_SQL_SERVER&quot;
&quot;cluster_id&quot;:&quot;RESERVED_CLUSTER_ID_FOR_SQL_SERVER&quot;</p><div class="language-Shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 添加FE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl &#x27;127.0.0.1:5000/MetaService/http/add_cluster?token=greedisgood9999&#x27; -d &#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;instance_id&quot;:&quot;sample_instance_id&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;cluster&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;type&quot;:&quot;SQL&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_name&quot;:&quot;RESERVED_CLUSTER_NAME_FOR_SQL_SERVER&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_id&quot;:&quot;RESERVED_CLUSTER_ID_FOR_SQL_SERVER&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;nodes&quot;:[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;cloud_unique_id&quot;:&quot;1:sample_instance_id:cloud_unique_id_sql_server00&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;ip&quot;:&quot;172.21.16.21&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;edit_log_port&quot;:12103,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;node_type&quot;:&quot;FE_MASTER&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 创建成功 get 出来确认一下</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl &#x27;127.0.0.1:5000/MetaService/http/get_cluster?token=greedisgood9999&#x27; -d &#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;instance_id&quot;:&quot;sample_instance_id&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;cloud_unique_id&quot;:&quot;1:sample_instance_id:cloud_unique_id_sql_server00&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;cluster_name&quot;:&quot;RESERVED_CLUSTER_NAME_FOR_SQL_SERVER&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;cluster_id&quot;:&quot;RESERVED_CLUSTER_ID_FOR_SQL_SERVER&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建计算集群compute-cluster----be"><a href="id:create_compute_cluster" target="_blank" rel="noopener noreferrer">创建计算集群(Compute Cluster -- BE)</a><a href="#创建计算集群compute-cluster----be" class="hash-link" aria-label="创建计算集群compute-cluster----be的直接链接" title="创建计算集群compute-cluster----be的直接链接">​</a></h3><p>用户可以创建一个或者多个计算集群, 一个计算机群由任意多个计算阶段组成.</p><p>一个计算集群组成有多个几个关键信息:</p><ol><li>cloud_unique_id是一个唯一字符串, 格式为 <code>1:&lt;instance_id&gt;:&lt;string&gt;</code>, 根据自己喜好选一个. 这个值需要和be.conf的cloud_unique_id配置值相同.</li><li>cluster_name cluster_id 按照自己的实际情况偏好填写</li><li>ip根据实际情况填写, heartbeat_port 是BE的心跳端口.</li></ol><p>BE cluster的数量以及 节点数量 根据自己需求调整, 不固定, 不同cluster需要使用不同的 cluster_name 和 cluster_id.</p><div class="language-Shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 172.19.0.11</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 添加BE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl &#x27;127.0.0.1:5000/MetaService/http/add_cluster?token=greedisgood9999&#x27; -d &#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;instance_id&quot;:&quot;sample_instance_id&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;cluster&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;type&quot;:&quot;COMPUTE&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_name&quot;:&quot;cluster_name0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_id&quot;:&quot;cluster_id0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;nodes&quot;:[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;cloud_unique_id&quot;:&quot;1:sample_instance_id:cloud_unique_id_compute_node0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;ip&quot;:&quot;172.21.16.21&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;heartbeat_port&quot;:9455</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 创建成功 get 出来确认一下</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl &#x27;127.0.0.1:5000/MetaService/http/get_cluster?token=greedisgood9999&#x27; -d &#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;instance_id&quot;:&quot;sample_instance_id&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;cloud_unique_id&quot;:&quot;1:sample_instance_id:cloud_unique_id_compute_node0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;cluster_name&quot;:&quot;cluster_name0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;cluster_id&quot;:&quot;cluster_id0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="febe配置">FE/BE配置<a href="#febe配置" class="hash-link" aria-label="FE/BE配置的直接链接" title="FE/BE配置的直接链接">​</a></h3><p>FE BE 配置相比doris多了一些配置, 其中比较关键的是</p><ul><li>meta_service_endpoint, 这个配置是meta service的地址, FE BE都要填写</li><li>cloud_unique_id, 根据之前创建存算分离集群的时候发往meta-service请求里的实际值填写即可, Doris是通过这个配置是否有值来决定是否工作在存算分离模式</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="feconf">fe.conf<a href="#feconf" class="hash-link" aria-label="fe.conf的直接链接" title="fe.conf的直接链接">​</a></h4><div class="language-Shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">meta_service_endpoint = 127.0.0.1:5000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cloud_unique_id = 1:sample_instance_id:cloud_unique_id_sql_server00</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="beconf">be.conf<a href="#beconf" class="hash-link" aria-label="be.conf的直接链接" title="be.conf的直接链接">​</a></h4><p>下述例子中 meta_service_use_load_balancer 和 enable_file_cache 可以照抄,
其他的配置按照实际值填写.</p><p>file_cache_path 是一个json数组(根据实际cache盘的个数配置), 它的各个字段含义</p><ul><li>path, 缓存数据存放的路径, 类似于存算一体的storage_root_path</li><li>total_size, 期望使用的缓存空间上限</li><li>query_limit, 单个query在cache miss时最多能淘汰的缓存数据量 (为了防止大查询把缓存全部冲掉)
cache中存放的是数据, 所以最好使用SSD等高性能的磁盘作为缓存存储.</li></ul><div class="language-Shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">meta_service_endpoint = 127.0.0.1:5000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cloud_unique_id = 1:sample_instance_id:cloud_unique_id_compute_node0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">meta_service_use_load_balancer = false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">enable_file_cache = true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">file_cache_path = [{&quot;path&quot;:&quot;/mnt/disk1/doris_cloud/file_cache&quot;,&quot;total_size&quot;:104857600000,&quot;query_limit&quot;:10485760000}, {&quot;path&quot;:&quot;/mnt/disk2/doris_cloud/file_cache&quot;,&quot;total_size&quot;:104857600000,&quot;query_limit&quot;:10485760000}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="启停febe">启停FE/BE<a href="#启停febe" class="hash-link" aria-label="启停FE/BE的直接链接" title="启停FE/BE的直接链接">​</a></h3><p>FE BE启停和doris存算一体启停方式保持一致, </p><div class="language-Shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">bin/start_be.sh --daemon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bin/stop_be.sh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bin/start_fe.sh --daemon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bin/stop_fe.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Doris <strong>cloud模式**</strong>FE*<strong>*会自动发现对应的BE, 不需通过 alter system add 或者drop backend 操作节点.</strong></p><p>启动后观察日志, 如果上述缓解配置都是正确的, 则进入正常工作模式, 可以通过MySQL客户端连上FE进行访问.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="计算集群操作">计算集群操作<a href="#计算集群操作" class="hash-link" aria-label="计算集群操作的直接链接" title="计算集群操作的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="加减febe节点">加减FE/BE节点<a href="#加减febe节点" class="hash-link" aria-label="加减FE/BE节点的直接链接" title="加减FE/BE节点的直接链接">​</a></h4><p>加减节点的操作和上述新建存算分离Doris时创建计算集群的步骤类似, 向meta-service 声
明需要增加哪些节点, 然后启动对应的节点即可(新增节点的要配置正确),
<strong>不需要使用alter system add/drop语句进行额外操作</strong>.</p><p>存算分离模式可以同时增加/减少若干个节点, 但是建议实际操作时每次只操作操作一个节点.</p><p>示例, 给计算集群cluster_name0增加两个BE节点</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl &#x27;127.0.0.1:5000/MetaService/http/add_node?token=greedisgood9999&#x27; -d &#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;instance_id&quot;:&quot;sample_instance_id&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;cluster&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;type&quot;:&quot;COMPUTE&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_name&quot;:&quot;cluster_name0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_id&quot;:&quot;cluster_id0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;nodes&quot;:[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;cloud_unique_id&quot;:&quot;1:sample_instance_id:cloud_unique_id_compute_node1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;ip&quot;:&quot;172.21.16.22&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;heartbeat_port&quot;:9455</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;cloud_unique_id&quot;:&quot;1:sample_instance_id:cloud_unique_id_compute_node2&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;ip&quot;:&quot;172.21.16.23&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;heartbeat_port&quot;:9455</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例, 给计算集群cluster_name0减少两个BE节点</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl &#x27;127.0.0.1:5000/MetaService/http/drop_node?token=greedisgood9999&#x27; -d &#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;instance_id&quot;:&quot;sample_instance_id&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;cluster&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;type&quot;:&quot;COMPUTE&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_name&quot;:&quot;cluster_name0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_id&quot;:&quot;cluster_id0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;nodes&quot;:[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;cloud_unique_id&quot;:&quot;1:sample_instance_id:cloud_unique_id_compute_node1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;ip&quot;:&quot;172.21.16.22&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;heartbeat_port&quot;:9455</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;cloud_unique_id&quot;:&quot;1:sample_instance_id:cloud_unique_id_compute_node2&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;ip&quot;:&quot;172.21.16.23&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;heartbeat_port&quot;:9455</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例, 添加一个FE follower, 以下node_type为FE_MASTER表示这个节点可以选为master,
<strong>如果需要增加一个OBSERVER, 将node_type 设置为OBSERVER即可.</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl &#x27;127.0.0.1:5000/MetaService/http/add_node?token=greedisgood9999&#x27; -d &#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;instance_id&quot;:&quot;sample_instance_id&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;cluster&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;type&quot;:&quot;SQL&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_name&quot;:&quot;RESERVED_CLUSTER_NAME_FOR_SQL_SERVER&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_id&quot;:&quot;RESERVED_CLUSTER_ID_FOR_SQL_SERVER&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;nodes&quot;:[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;cloud_unique_id&quot;:&quot;1:sample_instance_id:cloud_unique_id_sql_server00&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;ip&quot;:&quot;172.21.16.22&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;edit_log_port&quot;:12103,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;node_type&quot;:&quot;FE_MASTER&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例, 删除一个FE节点</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl &#x27;127.0.0.1:5000/MetaService/http/drop_node?token=greedisgood9999&#x27; -d &#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;instance_id&quot;:&quot;sample_instance_id&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;cluster&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;type&quot;:&quot;SQL&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_name&quot;:&quot;RESERVED_CLUSTER_NAME_FOR_SQL_SERVER&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_id&quot;:&quot;RESERVED_CLUSTER_ID_FOR_SQL_SERVER&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;nodes&quot;:[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;cloud_unique_id&quot;:&quot;1:sample_instance_id:cloud_unique_id_sql_server00&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;ip&quot;:&quot;172.21.16.22&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;edit_log_port&quot;:12103,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;node_type&quot;:&quot;FE_MASTER&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="加减计算集群compute-cluster">加减计算集群(Compute Cluster)<a href="#加减计算集群compute-cluster" class="hash-link" aria-label="加减计算集群(Compute Cluster)的直接链接" title="加减计算集群(Compute Cluster)的直接链接">​</a></h4><p>新增一个计算集群参考前文<a href="#create_compute_cluster">创建计算集群章节</a>即可.</p><p>删除一个计算集群调用meta-service 接口之后 关停响应节点即可.</p><p>示例, 删除名为cluster_name0的计算集群(以下所有参数都必须填)</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl &#x27;127.0.0.1:5000/MetaService/http/add_cluster?token=greedisgood9999&#x27; -d &#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;instance_id&quot;:&quot;sample_instance_id&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;cluster&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;type&quot;:&quot;COMPUTE&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_name&quot;:&quot;cluster_name0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cluster_id&quot;:&quot;cluster_id0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="清理集群正式环境请勿使用">清理集群(<strong>正式环境请勿使用</strong>)<a href="#清理集群正式环境请勿使用" class="hash-link" aria-label="清理集群正式环境请勿使用的直接链接" title="清理集群正式环境请勿使用的直接链接">​</a></h2><p>有时候我们需要创建一些测试用的存算分离Doris, 其中有一些步骤弄错了, 或者想完全重
新搭建. 则需要清除环境, 重新执行上述创建存算分离的Doris的步骤.
和存算一体的Doris 手动清除集群方式类似主要分为两步: 清除元数据以及清除数据</p><ol><li>手动强制清除元数据: 删掉FE的meta目录以及fdb里的元数据, 删除fdb里的数据需要使
用到fdb的命令行工具fdbcli. 以下命令都要执行, 其中<code>${instance_id}</code>需要替成实际
的值<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">fdbcli --exec &quot;writemode on;clearrange \x01\x10instance\x00\x01\x10${instance_id}\x00\x01 \x01\x10instance\x00\x01\x10${instance_id}\x00\xff\x00\x01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fdbcli --exec &quot;writemode on;clearrange \x01\x10meta\x00\x01\x10${instance_id}\x00\x01 \x01\x10meta\x00\x01\x10${instance_id}\x00\xff\x00\x01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fdbcli --exec &quot;writemode on;clearrange \x01\x10txn\x00\x01\x10${instance_id}\x00\x01 \x01\x10txn\x00\x01\x10${instance_id}\x00\xff\x00\x01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fdbcli --exec &quot;writemode on;clearrange \x01\x10version\x00\x01\x10${instance_id}\x00\x01 \x01\x10version\x00\x01\x10${instance_id}\x00\xff\x00\x01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fdbcli --exec &quot;writemode on;clearrange \x01\x10stats\x00\x01\x10${instance_id}\x00\x01 \x01\x10stats\x00\x01\x10${instance_id}\x00\xff\x00\x01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fdbcli --exec &quot;writemode on;clearrange \x01\x10recycle\x00\x01\x10${instance_id}\x00\x01 \x01\x10recycle\x00\x01\x10${instance_id}\x00\xff\x00\x01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fdbcli --exec &quot;writemode on;clearrange \x01\x10job\x00\x01\x10${instance_id}\x00\x01 \x01\x10job\x00\x01\x10${instance_id}\x00\xff\x00\x01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fdbcli --exec &quot;writemode on;clearrange \x01\x10copy\x00\x01\x10${instance_id}\x00\x01 \x01\x10copy\x00\x01\x10${instance_id}\x00\xff\x00\x01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fdbcli --exec &quot;writemode on;clearrange \x01\x10storage_vault\x00\x01\x10${instance_id}\x00\x01 \x01\x10storage_vault\x00\x01\x10${instance_id}\x00\xff\x00\x01&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>手动强制删除BE的缓存目录(主要是file_cache_path这个配置对应的几个目录)</li><li>重启meta-service 以及 recycler</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="常见问题">常见问题<a href="#常见问题" class="hash-link" aria-label="常见问题的直接链接" title="常见问题的直接链接">​</a></h2></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-CN/docs/dev/separation-of-storage-and-compute/overview"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">存算分离概览</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-CN/docs/dev/separation-of-storage-and-compute/compute-cluster"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">存算分离计算集群</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop"><a href="https://ask.selectdb.com" target="_blank" rel="noopener noreferrer" class="ml-4 mb-8 flex items-center hover:no-underline"><span class="pr-2">问答论坛</span><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8500" id="mx_n_1711090272569" width="16" height="16"><path d="M522.24 896.512c-25.6 4.608-51.712 7.168-78.336 7.168-79.36 0-157.696-21.504-225.792-62.464l-18.432-10.752-103.936 28.16c-28.672 7.68-54.784-18.432-47.104-47.104l28.16-103.936c-10.752-17.92-17.408-30.208-20.992-36.864C20.992 607.232 3.072 536.064 3.584 463.36c0-243.2 197.12-440.32 440.32-440.32 221.696 0 405.504 164.352 435.712 377.856 90.112 55.808 144.896 154.112 144.896 260.096 0 51.2-12.8 100.352-36.352 144.384-2.048 4.096-6.144 10.752-11.776 20.48l17.408 64c7.68 28.672-18.432 54.784-47.104 47.104l-64-17.408-7.68 4.608c-47.616 28.672-101.888 43.52-157.184 43.52-71.68-0.512-140.8-25.088-195.584-71.168z m95.232-28.672c31.232 15.36 65.536 23.04 100.352 23.04 41.472 0 82.432-11.264 117.76-32.768 2.56-1.536 9.728-5.632 22.016-12.8 8.704-5.12 19.456-6.656 29.184-3.584l14.848 4.096-4.096-14.848c-2.56-10.24-1.536-20.48 4.096-29.696 6.144-10.24 12.288-20.992 18.432-31.232 17.92-33.28 27.136-70.656 27.136-108.544 0-59.904-23.552-117.76-65.536-160.256-13.312 164.352-118.272 303.616-264.192 366.592z m-462.848-155.648l-14.848 54.784 54.784-14.848c9.728-2.56 20.48-1.536 29.184 4.096 18.432 10.752 29.184 16.896 32.768 19.456 56.32 33.792 120.832 51.712 186.88 51.712 200.704 0 363.52-162.816 363.52-363.52s-162.816-363.52-363.52-363.52-363.52 162.816-363.52 363.52c0 60.928 14.848 119.296 43.008 171.52 3.584 7.168 13.312 23.04 27.648 47.616 5.632 8.704 6.656 19.456 4.096 29.184z m448.512-382.976c20.992 0 38.4 16.896 38.4 38.4 0 20.992-16.896 38.4-38.4 38.4H284.16c-20.992 0-38.4-16.896-38.4-38.4 0-20.992 16.896-38.4 38.4-38.4h318.976z m-153.088 191.488c20.992 0 38.4 16.896 38.4 38.4 0 20.992-16.896 38.4-38.4 38.4H284.16c-20.992 0-38.4-16.896-38.4-38.4 0-20.992 16.896-38.4 38.4-38.4h165.888z m0 0" p-id="8501" fill="currentColor"></path></svg></a><span class="ml-4">本页导航</span><ul class="table-of-contents table-of-contents__left-border"><li><a href="#写在前面" class="table-of-contents__link toc-highlight">写在前面</a></li><li><a href="#编译" class="table-of-contents__link toc-highlight">编译</a></li><li><a href="#版本信息" class="table-of-contents__link toc-highlight">版本信息</a></li><li><a href="#meta-service-以及-recycler-部署" class="table-of-contents__link toc-highlight">Meta-service 以及 Recycler 部署</a><ul><li><a href="#meta-service-配置" class="table-of-contents__link toc-highlight">meta-service 配置</a></li><li><a href="#recycler-配置" class="table-of-contents__link toc-highlight">Recycler 配置</a></li><li><a href="#模块启停" class="table-of-contents__link toc-highlight">模块启停</a></li><li><a href="#启停-meta_service" class="table-of-contents__link toc-highlight">启停 meta_service</a></li><li><a href="#启停-recycler" class="table-of-contents__link toc-highlight">启停 Recycler</a></li></ul></li><li><a href="#创建存算分离集群" class="table-of-contents__link toc-highlight">创建存算分离集群</a><ul><li><a href="#创建存算分离集群fe" class="table-of-contents__link toc-highlight">创建存算分离集群FE</a></li><li><a href="#创建计算集群compute-cluster----be" class="table-of-contents__link toc-highlight">创建计算集群(Compute Cluster -- BE)</a></li><li><a href="#febe配置" class="table-of-contents__link toc-highlight">FE/BE配置</a></li><li><a href="#启停febe" class="table-of-contents__link toc-highlight">启停FE/BE</a></li><li><a href="#计算集群操作" class="table-of-contents__link toc-highlight">计算集群操作</a></li></ul></li><li><a href="#清理集群正式环境请勿使用" class="table-of-contents__link toc-highlight">清理集群(<strong>正式环境请勿使用</strong>)</a></li><li><a href="#常见问题" class="table-of-contents__link toc-highlight">常见问题</a></li></ul></div></div></div></div></main></div></div></div><div class="footer pt-16 pb-10"><div class="container"><div class="footer-box"><div class="left"><img src="/zh-CN/images/asf_logo_apache.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/zh-CN/images/asf_logo_apache.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ASF</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item">License<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/download">Download</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/get-starting/quick-start">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/ecosystem/cluster-management">Ecosystem</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/users">Users</a></li><li class="footer__item"><a href="https://github.com/apache/doris/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/community/how-to-contribute/">How to contribute</a></li><li class="footer__item"><a href="https://github.com/apache/doris/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Source code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://cwiki.apache.org/confluence/display/DORIS/Doris+Improvement+Proposals" target="_blank" rel="noopener noreferrer" class="footer__link-item">Improvement proposal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/community/team">Doris team</a></li><li class="footer__item"><a href="https://github.com/apache/doris/issues/30669" target="_blank" rel="noopener noreferrer" class="footer__link-item">Roadmap<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><div class="right"><div class="footer__title">Join the community</div><div class="social-list"><div class="social"><a href="mailto:dev@doris.apache.org" target="_blank" title="mail" class="item"><svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 32 32" fill="none"><path d="M5.6003 6H26.3997C27.8186 6 28.982 7.10964 29 8.46946L16.0045 15.454L3.01202 8.47829C3.02405 7.11258 4.1784 6 5.6003 6ZM3.01202 11.1508L3 23.5011C3 24.8756 4.16938 26 5.6003 26H26.3997C27.8306 26 29 24.8756 29 23.5011V11.145L16.3111 17.8028C16.1157 17.9058 15.8813 17.9058 15.6889 17.8028L3.01202 11.1508Z" fill="currentColor"></path></svg></a><a href="https://github.com/apache/doris" target="_blank" title="github" class="item"><svg width="2em" height="2em" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.0001 2.66675C8.63342 2.66675 2.66675 8.63341 2.66675 16.0001C2.66524 18.7991 3.54517 21.5276 5.1817 23.7983C6.81824 26.0691 9.12828 27.7668 11.7841 28.6508C12.4508 28.7668 12.7001 28.3668 12.7001 28.0161C12.7001 27.7001 12.6828 26.6508 12.6828 25.5334C9.33342 26.1508 8.46675 24.7174 8.20008 23.9668C8.04942 23.5828 7.40008 22.4001 6.83342 22.0828C6.36675 21.8334 5.70008 21.2161 6.81608 21.2001C7.86675 21.1828 8.61608 22.1668 8.86675 22.5668C10.0668 24.5828 11.9841 24.0161 12.7494 23.6668C12.8668 22.8001 13.2161 22.2174 13.6001 21.8841C10.6334 21.5508 7.53342 20.4001 7.53342 15.3001C7.53342 13.8494 8.04942 12.6507 8.90008 11.7161C8.76675 11.3827 8.30008 10.0161 9.03342 8.18275C9.03342 8.18275 10.1494 7.83342 12.7001 9.55075C13.7855 9.2495 14.907 9.09787 16.0334 9.10008C17.1668 9.10008 18.3001 9.24942 19.3668 9.54942C21.9161 7.81608 23.0334 8.18408 23.0334 8.18408C23.7668 10.0174 23.3001 11.3841 23.1668 11.7174C24.0161 12.6507 24.5334 13.8334 24.5334 15.3001C24.5334 20.4174 21.4174 21.5508 18.4508 21.8841C18.9334 22.3001 19.3508 23.1001 19.3508 24.3508C19.3508 26.1334 19.3334 27.5668 19.3334 28.0174C19.3334 28.3668 19.5841 28.7828 20.2508 28.6494C22.8975 27.7558 25.1973 26.0547 26.8266 23.7856C28.4559 21.5165 29.3327 18.7936 29.3334 16.0001C29.3334 8.63341 23.3668 2.66675 16.0001 2.66675V2.66675Z" fill="currentColor"></path></svg></a><a href="https://twitter.com/doris_apache" target="_blank" title="twitter" class="item"><svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 32 32" fill="none"><path d="M4.625 4.625H11.2809L27.375 27.375H20.7191L4.625 4.625ZM7.52549 6.10639L21.5236 25.8936H24.4746L10.4764 6.10639H7.52549Z" fill="currentColor"></path><path d="M14.4268 18.4803L6.53447 27.375H4.625L13.5581 17.2525L14.4268 18.4803ZM18.1299 14.3066L26.7203 4.625H24.7017L17.2525 13.0662L18.1299 14.3066Z" fill="currentColor"></path></svg></a><a href="https://join.slack.com/t/apachedoriscommunity/shared_invite/zt-2kl08hzc0-SPJe4VWmL_qzrFd2u2XYQA" title="slack" target="_blank" class="item"><svg width="2em" height="2em" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_125_278)"><path d="M12.5875 16.6906C11.0844 16.6906 9.86562 17.9094 9.86562 19.4125V26.2375C9.86562 26.9594 10.1524 27.6517 10.6628 28.1622C11.1733 28.6726 11.8656 28.9594 12.5875 28.9594C13.3094 28.9594 14.0017 28.6726 14.5122 28.1622C15.0226 27.6517 15.3094 26.9594 15.3094 26.2375V19.4531C15.3094 17.9094 14.0906 16.6906 12.5875 16.6906ZM3 19.4531C3 20.175 3.28677 20.8673 3.79722 21.3778C4.30767 21.8882 4.99999 22.175 5.72187 22.175C6.44376 22.175 7.13608 21.8882 7.64653 21.3778C8.15698 20.8673 8.44375 20.175 8.44375 19.4531V16.7312H5.7625C4.25938 16.6906 3 17.9094 3 19.4531ZM12.5875 3C11.8656 3 11.1733 3.28677 10.6628 3.79722C10.1524 4.30767 9.86562 4.99999 9.86562 5.72187C9.86562 6.44376 10.1524 7.13608 10.6628 7.64653C11.1733 8.15698 11.8656 8.44375 12.5875 8.44375H15.3094V5.72187C15.3094 4.21875 14.0906 3 12.5875 3ZM5.72187 15.3094H12.5469C13.2688 15.3094 13.9611 15.0226 14.4715 14.5122C14.982 14.0017 15.2688 13.3094 15.2688 12.5875C15.2688 11.8656 14.982 11.1733 14.4715 10.6628C13.9611 10.1524 13.2688 9.86562 12.5469 9.86562H5.72187C4.99999 9.86562 4.30767 10.1524 3.79722 10.6628C3.28677 11.1733 3 11.8656 3 12.5875C3 13.3094 3.28677 14.0017 3.79722 14.5122C4.30767 15.0226 4.99999 15.3094 5.72187 15.3094ZM26.2375 9.86562C24.7344 9.86562 23.5156 11.0844 23.5156 12.5875V15.3094H26.2375C26.9594 15.3094 27.6517 15.0226 28.1622 14.5122C28.6726 14.0017 28.9594 13.3094 28.9594 12.5875C28.9594 11.8656 28.6726 11.1733 28.1622 10.6628C27.6517 10.1524 26.9594 9.86562 26.2375 9.86562ZM16.6906 5.72187V12.5875C16.6906 13.3094 16.9774 14.0017 17.4878 14.5122C17.9983 15.0226 18.6906 15.3094 19.4125 15.3094C20.1344 15.3094 20.8267 15.0226 21.3372 14.5122C21.8476 14.0017 22.1344 13.3094 22.1344 12.5875V5.72187C22.1344 4.99999 21.8476 4.30767 21.3372 3.79722C20.8267 3.28677 20.1344 3 19.4125 3C18.6906 3 17.9983 3.28677 17.4878 3.79722C16.9774 4.30767 16.6906 4.99999 16.6906 5.72187ZM22.1344 26.2781C22.1344 24.775 20.9156 23.5562 19.4125 23.5562H16.6906V26.2781C16.6906 27 16.9774 27.6923 17.4878 28.2028C17.9983 28.7132 18.6906 29 19.4125 29C20.1344 29 20.8267 28.7132 21.3372 28.2028C21.8476 27.6923 22.1344 27 22.1344 26.2781ZM26.2781 16.6906H19.4125C18.6906 16.6906 17.9983 16.9774 17.4878 17.4878C16.9774 17.9983 16.6906 18.6906 16.6906 19.4125C16.6906 20.1344 16.9774 20.8267 17.4878 21.3372C17.9983 21.8476 18.6906 22.1344 19.4125 22.1344H26.2375C27.7406 22.1344 28.9594 20.9156 28.9594 19.4125C29 17.9094 27.7812 16.6906 26.2781 16.6906Z" fill="currentColor"></path></g><defs><clipPath id="clip0_125_278"><rect width="26" height="26" fill="currentColor" transform="translate(3 3)"></rect></clipPath></defs></svg></a></div><div class="social"><a href="https://www.youtube.com/@apachedoris/channels" title="youtube" target="_blank" class="item"><svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 32 32" fill="none"><path d="M28.5167 7.83429C28.9436 8.25423 29.2532 8.77539 29.4154 9.34742C29.8205 11.5462 30.0159 13.7775 29.999 16.0121C30.0144 18.2382 29.819 20.4609 29.4154 22.6515C29.2532 23.2235 28.9436 23.7446 28.5167 24.1645C28.0898 24.5845 27.5601 24.889 26.9785 25.0486C24.7728 25.625 16.0124 25.625 16.0124 25.625C16.0124 25.625 7.22652 25.625 5.04638 25.0486C4.46489 24.889 3.9351 24.5845 3.5082 24.1645C3.08132 23.7446 2.77176 23.2235 2.60948 22.6515C2.19736 20.4617 1.9934 18.239 2.00025 16.0121C1.9918 13.7767 2.19577 11.5455 2.60948 9.34742C2.77176 8.77539 3.08132 8.25423 3.5082 7.83429C3.9351 7.41436 4.46489 7.10985 5.04638 6.95021C7.25103 6.36354 16.0124 6.37502 16.0124 6.37502C16.0124 6.37502 24.796 6.37502 26.9785 6.95021C27.5601 7.10985 28.0898 7.41436 28.5167 7.83429ZM12.5 21.25L21.25 16.008L12.5 10.75V21.25Z" fill="currentColor"></path></svg></a><a href="https://www.linkedin.com/company/doris-apache/" title="linkedin" target="_blank" class="item"><svg width="2rem" height="2rem" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.29925 26.9996H9.66738V11.6781H4.29925V26.9996ZM22.1628 11.1949C19.9409 11.1949 18.7157 11.9388 17.3054 13.7407V11.6777H11.9459V26.9996H17.305V18.6738C17.305 16.9168 18.145 15.1982 20.1535 15.1982C22.162 15.1982 22.6559 16.9164 22.6559 18.632V27H28V18.2902C28 12.2386 24.3854 11.1949 22.1628 11.1949ZM6.99325 4C5.3395 4 4 5.21047 4 6.7046C4 8.19759 5.3395 9.40617 6.99325 9.40617C8.6455 9.40617 9.985 8.19722 9.985 6.7046C9.985 5.21047 8.6455 4 6.99325 4Z" fill="white"></path></svg></a><a href="https://medium.com/@ApacheDoris" title="medium" target="_blank" class="item"><svg width="2em" height="2em" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="Frame"><path id="Vector" d="M17.7967 16.5385C17.8029 18.53 16.9746 20.4425 15.4937 21.8559C14.0128 23.2693 12.0004 24.0681 9.89836 24.0769C7.79633 24.0681 5.78391 23.2693 4.30302 21.8559C2.82212 20.4425 1.99383 18.53 2.00003 16.5385C1.99383 14.5469 2.82212 12.6344 4.30302 11.221C5.78391 9.80759 7.79633 9.00878 9.89836 9C12.0004 9.00878 14.0128 9.80759 15.4937 11.221C16.9746 12.6344 17.8029 14.5469 17.7967 16.5385ZM26.4533 16.5385C26.4533 20.4514 24.6917 23.6348 22.51 23.6348C20.3283 23.6348 18.555 20.4514 18.555 16.5385C18.555 12.6255 20.3283 9.44214 22.51 9.44214C24.6917 9.44214 26.4533 12.6255 26.4533 16.5385ZM30 16.5385C30 20.0424 29.3817 22.8942 28.6117 22.8942C27.8417 22.8942 27.2233 20.0424 27.2233 16.5385C27.2233 13.0345 27.8417 10.1827 28.6117 10.1827C29.3817 10.1827 30 13.0345 30 16.5385Z" fill="currentColor"></path></g></svg></a><a class="item wechat"><svg width="2em" height="2em" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.7578 11.5169C21.0708 11.5169 21.3795 11.5398 21.6851 11.573C20.8524 7.73517 16.7052 4.88306 11.9718 4.88306C6.67951 4.88306 2.34412 8.45283 2.34412 12.9854C2.34412 15.6013 3.78679 17.7498 6.19667 19.4161L5.2339 22.2827L8.59917 20.6122C9.80411 20.8478 10.7698 21.0906 11.9718 21.0906C12.2738 21.0906 12.5728 21.0759 12.8703 21.0523C12.682 20.4159 12.5728 19.7485 12.5728 19.0566C12.5728 14.8947 16.1847 11.5169 20.7578 11.5169ZM15.5822 8.9335C16.3072 8.9335 16.7871 9.40601 16.7871 10.1229C16.7871 10.8369 16.3072 11.3153 15.5822 11.3153C14.8601 11.3153 14.1365 10.8369 14.1365 10.1229C14.1365 9.40601 14.8601 8.9335 15.5822 8.9335ZM8.84429 11.3153C8.12218 11.3153 7.3942 10.8368 7.3942 10.1229C7.3942 9.40597 8.12218 8.93346 8.84429 8.93346C9.56559 8.93346 10.0463 9.40597 10.0463 10.1229C10.0463 10.8369 9.56559 11.3153 8.84429 11.3153ZM29.5453 18.9422C29.5453 15.1332 25.6935 12.0285 21.3677 12.0285C16.7871 12.0285 13.1797 15.1332 13.1797 18.9422C13.1797 22.7567 16.7871 25.8547 21.3677 25.8547C22.326 25.8547 23.2932 25.6169 24.2559 25.3777L26.897 26.8086L26.1726 24.4282C28.1056 22.993 29.5453 21.0906 29.5453 18.9422ZM18.7126 17.7498C18.2335 17.7498 17.7499 17.278 17.7499 16.7966C17.7499 16.3219 18.2335 15.8442 18.7126 15.8442C19.4406 15.8442 19.9176 16.3219 19.9176 16.7966C19.9176 17.278 19.4406 17.7498 18.7126 17.7498ZM24.0079 17.7498C23.5324 17.7498 23.0518 17.278 23.0518 16.7966C23.0518 16.3219 23.5324 15.8442 24.0079 15.8442C24.73 15.8442 25.2128 16.3219 25.2128 16.7966C25.2128 17.278 24.73 17.7498 24.0079 17.7498Z" fill="currentColor"></path></svg><div class="wechat-dropdown"><p class="text-[#4c576c] text-xs">Connect on WeChat</p><img src="https://cdnd.selectdb.com/zh-CN/assets/images/doris-wechat-b949e908a3bc2776d824f79a9100bd4b.png" alt=""></div></a></div></div></div></div><div class="footer__copyright">Copyright © 2024 The Apache Software Foundation,Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License, Version 2.0</a>. Apache, Doris, Apache Doris, the Apache feather logo and the Apache Doris logo are trademarks of The Apache Software Foundation.</div></div></div></div>
<script src="https://cdnd.selectdb.com/zh-CN/assets/js/runtime~main.af108d74.js"></script>
<script src="https://cdnd.selectdb.com/zh-CN/assets/js/main.24a3da88.js"></script>
</body>
</html>